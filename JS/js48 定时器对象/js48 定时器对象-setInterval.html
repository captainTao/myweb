<html>
<head>
           <meta charset="utf-8">
		   <title>定时器对象</title>
</head>
<body>
             <input type="button" value="计时开始" onclick="count();">
			 <input type="button" value="停止计时" onclick="stop();">
			 <input type="button" value="图片消失" onclick="dis();"><br><br>
		<!-- 	 Note:图片消失的效果，break用法没弄好、 -->
			 <div id="img">
			     <img src="糖水西施.jpg" width="200px" height="300px">
			 </div>
			 <div id="num"></div>
			 <script>
			      var n=0;
				  var t1=null;//对t1,t2进行定义
				  var t2=null;
				  var tf=5;
			      function count(){
					document.getElementById("num").innerHTML="计数: "+n;//初始化
					clearInterval(t1);//清除上一次的interval，避免重复调用
					t1=setInterval("start();",1000);//1000ms后调用自己
				    }
				    function start(){
						n++;
						//获取对象
						document.getElementById("num").innerHTML="计数: "+n;
					}
					
					function stop(){
					      clearInterval(t1);
					      clearInterval(t2);
					}
					

					function dis(){
						clearInterval(t2);//避免t2重复调用
						clearInterval(t1);//如果有计时，则清除计时
						t2=setInterval("end();",1000)
						document.getElementById("num").innerHTML="还有"+tf+"s后图片消失";//初始化
					}
					function end(){
					    tf--;
						if (tf<=0){
							//document.getElementsByTagName("div").innerHTML="";
							//document.getElementById("num").innerHTML="";
							document.getElementById("img").innerHTML="";
							document.getElementById("num").innerHTML="";
							//break;//跳出循环
							//exit(2);//跳出程序
							// console.log("mark");
							clearInterval(t2);
							// return;//跳出函数
						}else{
						document.getElementById("num").innerHTML="还有"+tf+"s后图片消失";
						//return();
						//if(tf!=0){	
						}
					}
			 </script>
</body>
</html>